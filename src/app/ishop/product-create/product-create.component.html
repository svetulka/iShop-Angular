<div class="container">
	<form>
		<h2 class="display-6 text-center">Add New Product</h2>
		<div class="form-group">
			<label>ID: {{ product.id }}</label>
		</div>
		<div class="form-group">
			<label>Title</label>
			<input class="form-control" name="title" [(ngModel)]="product.title" #title="ngModel" required />
			<small [hidden]="title.valid || title.untouched" class="alert alert-danger">
				Title can't be empty
			</small>
		</div>
		<div class="form-group">
			<label>Image URL</label>
			<input class="form-control" name="pictureUrl" [(ngModel)]="product.pictureUrl" #pictureUrl="ngModel" required
				pattern='(http)?s?:?(\/\/[^"]*\.(?:png|jpg|jpeg|gif|png|svg))'/>
			<small [hidden]="pictureUrl.valid || pictureUrl.untouched" class="alert alert-danger">
				Please, provide correct picture URL
			</small>
		</div>
		<div class="form-group">
			<label>Price</label>
			<input type="number" class="form-control" name="price" [(ngModel)]="product.price" #price="ngModel" required/>
			<small [hidden]="price.valid || price.untouched" class="alert alert-danger">
				Price can't be empty
			</small>
		</div>
		<div class="form-group">
			<label>Count in stock</label>
			<input type="number" class="form-control" name="countInStock" [(ngModel)]="product.countInStock" #countInStock="ngModel" required/>
			<small [hidden]="countInStock.valid || countInStock.untouched" class="alert alert-danger">
				Count in stock can't be empty.
			</small>
		</div>
		<div class="form-group">
			<button class="btn btn-danger btn-sm" (click)="handleCancelClick()">Cancel</button>
			<button class="btn btn-primary btn-sm" (click)="productAdded.emit(product)" 
				[disabled]="title.invalid || pictureUrl.invalid || price.invalid || countInStock.invalid"
			>Add</button>
		</div>
	</form>
</div>
