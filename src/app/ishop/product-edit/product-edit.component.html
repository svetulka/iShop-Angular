<div class="container">
	<form [formGroup]="formEditProduct" (ngSubmit)="submit()">
		<h2 class="display-6 text-center">Product edit</h2>
		<div class="form-group">
			<label>ID: {{ productId }}</label>
		</div>
		<div class="form-group">
			<label>Title</label>
			<input class="form-control" name="title" formControlName="title" />
			<small *ngIf="formEditProduct.controls['title'].invalid && formEditProduct.controls['title'].touched"
				class="alert alert-danger">
				Title can't be empty
			</small>
		</div>
		<div class="form-group">
			<label>Image URL</label>
			<input class="form-control" name="pictureUrl" formControlName="pictureUrl"
				pattern='(http)?s?:?(\/\/[^"]*\.(?:png|jpg|jpeg|gif|png|svg))' />
			<div *ngIf="formEditProduct.controls['pictureUrl'].invalid && formEditProduct.controls['pictureUrl'].touched">
				<small *ngIf="pictureUrlFC.errors.pattern" class="alert alert-danger">
					Please, provide correct picture URL
				</small>
				<small *ngIf="pictureUrlFC.errors.required" class="alert alert-danger">
					Picture URL can't be empty
				</small>
			</div>
		</div>
		<div class="form-group">
			<label>Price</label>
			<input type="number" class="form-control" name="price" formControlName="price" />
			<small *ngIf="formEditProduct.controls['price'].invalid && formEditProduct.controls['price'].touched"
				class="alert alert-danger">
				Price can't be empty
			</small>
		</div>
		<div class="form-group">
			<label>Count in stock</label>
			<input type="number" class="form-control" name="countInStock" formControlName="countInStock" />
			<small
				*ngIf="formEditProduct.controls['countInStock'].invalid && formEditProduct.controls['countInStock'].touched"
				class="alert alert-danger">
				Count in stock can't be empty.
			</small>
		</div>
		<div class="form-group">
			<button class="btn btn-danger btn-sm" (click)="handleCancelClick()">Cancel</button>
			<button class="btn btn-primary btn-sm" 
				type="submit"
				[disabled]="formEditProduct.invalid || formEditProduct.pending">Update</button>
		</div>
	</form>
</div>